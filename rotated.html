<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Planning ‚Äì Rotated View</title>
      <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="auth.js"></script>
    <script src="app.js"></script>
    <script src="rotated.js" defer></script>
</head>


<body class="rotated-page">
  
<header class="topbar">
    <div class="brand">
        <div class="logo">LOVD</div>
        <div class="title">Rotated Planning</div>
    </div>

    <div class="week-nav">
        <button id="prevRot" class="btn">‚Üê Vorige</button>
        <div id="rotWeekLabel" class="week-label"></div>
        <button id="nextRot" class="btn">Volgende ‚Üí</button>
        <button id="todayRot" class="btn ghost">Vandaag</button>
    </div>

    <div>
        <a href="index.html" class="btn">Classic weergave</a>
    </div>
</header>

<div id="rotHead" class="rot-head-row"></div>
<div id="rotGrid" class="rotated-grid"></div>



  <!-- MODAL (gekopieerd uit index.html) -->
<!-- =======================
     TAAK MODAL (GEFIXT)
======================= -->
<div id="taskModal" class="modal-backdrop" hidden>
  <div class="modal">
    <header class="modal-header">
      <span id="taskTitle"></span>
      <button id="modalClose" type="button" class="icon-btn">√ó</button>
    </header>

    <div class="modal-body">

      <div class="row">
  <label class="lbl">Project</label>
  <div style="display:flex; gap:6px;">
    <select id="taskProject" style="flex:1;"></select>
    <button id="toggleProjSearch" class="btn small">üîç</button>
    <button id="mProjAdd" class="btn small">+ Nieuw</button>
  </div>
</div>

<div id="projSearchWrap" style="display:none; margin-top:6px;">
  <input id="mProjSearch" type="text" placeholder="Zoek project‚Ä¶" />
</div>
<select id="mProj" style="display:none;"></select>

      <select id="taskSection" disabled></select>

      <button id="openProdText" class="btn small" style="margin-top:6px;">
        üìÑ Productietekst
      </button>

      <button id="openPDF" class="btn small" style="margin-top:6px; display:none;">
          üìÑ Sectie PDF
      </button>
      <!-- MEDERWERKERS -->

      <div id="mEmpList" class="checkbox-list"></div>
      </div>

      <!-- DATUM -->
      <div class="row">
        <input type="date" id="mStartDate" />
        <input type="date" id="mEndDate" />
      </div>


      <!-- Type taak -->
      <label class="lbl">Type</label>
      <div class="radio-group">
        <label><input type="radio" name="mType" value="productie" /> Productie</label>
        <label><input type="radio" name="mType" value="montage" /> Montage</label>
        <label><input type="radio" name="mType" value="service"> Service</label>
        <label><input type="radio" name="mType" value="vrij" /> Vrij</label>
      </div>


      <!-- Dagdeel -->
      <label class="lbl">Dagdeel</label>
      <div class="radio-group">
        <label><input type="radio" name="mBlock" value="full" /> Hele dag</label>
        <label><input type="radio" name="mBlock" value="am" /> Ochtend</label>
        <label><input type="radio" name="mBlock" value="pm" /> Middag</label>
      </div>

      <!-- URGENT -->
      <div class="urgent-row">
        <label class="urgent-label">
          <input type="checkbox" id="mUrgent">
          <span>Urgent <span class="urgent-exclaim">‚ùó</span></span>
        </label>
      </div>
      
      <!-- VOERTUIG -->
      <div id="vehicleRow">
        <label class="lbl">Voertuig</label>
      <div class="radio-group">
        <label><input type="radio" name="mVehicle" value="nvt" checked> n.v.t.</label>
        <label><input type="radio" name="mVehicle" value="bus"> Bus</label>
        <label><input type="radio" name="mVehicle" value="bakwagen"> Bakwagen</label>
      </div>



      <!-- NOTITIES -->
      <label class="lbl">Notities</label>
      <textarea id="mNotes"></textarea>

      <input type="hidden" id="mId">

    </div>

    <div id="prodTextModal" class="modal-backdrop" hidden>
      <div class="modal" style="max-width:600px;">
        <header class="modal-header">
          <span>Productietekst</span>
          <button id="prodClose" class="icon-btn">√ó</button>
        </header>

        <div id="prodTextContent" 
            style="white-space:pre-wrap; font-size:14px; line-height:1.4;">
        </div>
      </div>
    </div>

    <footer class="modal-footer">
      <button id="mDelete" type="button" class="danger-btn">Verwijderen</button>
      <button id="mSave" type="button" class="primary-btn">Opslaan</button>
    </footer>
  </div>
</div>

<!-- CELL TEMPLATE (AM/PM) -->
<template id="rotCellTpl">
  <div class="rot-cell">
      <div class="rot-am dropzone" data-part="am"></div>
      <div class="rot-pm dropzone" data-part="pm"></div>
  </div>
</template>

<!-- ITEM TEMPLATE -->
<template id="rotItemTpl">
  <div class="item">
      <div class="top1 task"></div>
      <div class="note"></div>
      <div class="meta"></div>
      <div class="extra">
        <span class="urgent-icon"></span>
      </div>
      <div class="x">√ó</div>
  </div>
</template>



</body>
</html>
